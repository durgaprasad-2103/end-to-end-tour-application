{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Card,Badge,Spinner}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserPoints=_ref=>{let{userId}=_ref;const[points,setPoints]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchUserPoints=async()=>{if(!userId){setLoading(false);return;}try{const response=await axios.get(`${process.env.REACT_APP_API_URL||'http://localhost:8000'}/api/users/${userId}/points`);setPoints(response.data.data.points);setLoading(false);}catch(err){console.error('Error fetching user points:',err);setError('Failed to load your loyalty points');setLoading(false);}};fetchUserPoints();},[userId]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center my-3\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),\"Loading points...\"]});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:error});}if(!userId){return null;}return/*#__PURE__*/_jsx(Card,{className:\"mb-3 bg-light\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-star-fill text-warning\",style:{fontSize:'2rem'}}),/*#__PURE__*/_jsx(Badge,{bg:\"primary\",pill:true,className:\"position-absolute top-0 start-100 translate-middle\",children:points})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ms-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-1\",children:\"Loyalty Points\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:points===0?'Book a tour to earn points!':`You have ${points} points to use for future discounts!`})]})]})})});};export default UserPoints;","map":{"version":3,"names":["React","useState","useEffect","axios","Card","Badge","Spinner","jsx","_jsx","jsxs","_jsxs","UserPoints","_ref","userId","points","setPoints","loading","setLoading","error","setError","fetchUserPoints","response","get","process","env","REACT_APP_API_URL","data","err","console","className","children","animation","size","Body","style","fontSize","bg","pill"],"sources":["/Users/durgaprasadcreddy/Desktop/project/tourbuddy/frontend/src/components/UserPoints.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, Badge, Spinner } from 'react-bootstrap';\n\nconst UserPoints = ({ userId }) => {\n  const [points, setPoints] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchUserPoints = async () => {\n      if (!userId) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL || 'http://localhost:8000'}/api/users/${userId}/points`);\n        setPoints(response.data.data.points);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching user points:', err);\n        setError('Failed to load your loyalty points');\n        setLoading(false);\n      }\n    };\n\n    fetchUserPoints();\n  }, [userId]);\n\n  if (loading) {\n    return (\n      <div className=\"text-center my-3\">\n        <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n        Loading points...\n      </div>\n    );\n  }\n\n  if (error) {\n    return <div className=\"text-danger\">{error}</div>;\n  }\n\n  if (!userId) {\n    return null;\n  }\n\n  return (\n    <Card className=\"mb-3 bg-light\">\n      <Card.Body>\n        <div className=\"d-flex align-items-center\">\n          <div className=\"position-relative\">\n            <i className=\"bi bi-star-fill text-warning\" style={{ fontSize: '2rem' }}></i>\n            <Badge \n              bg=\"primary\" \n              pill\n              className=\"position-absolute top-0 start-100 translate-middle\"\n            >\n              {points}\n            </Badge>\n          </div>\n          <div className=\"ms-3\">\n            <h5 className=\"mb-1\">Loyalty Points</h5>\n            <p className=\"text-muted mb-0\">\n              {points === 0 ? \n                'Book a tour to earn points!' : \n                `You have ${points} points to use for future discounts!`}\n            </p>\n          </div>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default UserPoints; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}