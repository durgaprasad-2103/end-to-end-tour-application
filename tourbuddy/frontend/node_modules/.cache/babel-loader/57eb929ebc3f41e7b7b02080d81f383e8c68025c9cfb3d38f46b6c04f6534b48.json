{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import TourCard from'../components/TourCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Tours=()=>{const[tours,setTours]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[filter,setFilter]=useState('all');const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{const fetchTours=async()=>{try{const response=await axios.get('/api/tours');setTours(response.data.data.tours);setLoading(false);}catch(err){setError('Failed to fetch tours. Please try again later.');setLoading(false);console.error('Error fetching tours:',err);}};fetchTours();},[]);// Filter tours based on price range\nconst getFilteredTours=()=>{let filteredTours=[...tours];// Apply search filter\nif(searchTerm.trim()!==''){filteredTours=filteredTours.filter(tour=>tour.title.toLowerCase().includes(searchTerm.toLowerCase())||tour.location.toLowerCase().includes(searchTerm.toLowerCase()));}// Apply price filter\nif(filter==='budget'){filteredTours=filteredTours.filter(tour=>tour.price<300);}else if(filter==='mid'){filteredTours=filteredTours.filter(tour=>tour.price>=300&&tour.price<=500);}else if(filter==='luxury'){filteredTours=filteredTours.filter(tour=>tour.price>500);}return filteredTours;};const handleFilterChange=e=>{setFilter(e.target.value);};const handleSearchChange=e=>{setSearchTerm(e.target.value);};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"Loading tours...\"})]});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle me-2\"}),error]})});}const filteredTours=getFilteredTours();return/*#__PURE__*/_jsxs(\"div\",{className:\"fade-in\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-light py-5 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 fw-bold mb-4\",children:\"Our Tours\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Discover unforgettable experiences and adventures around the world\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text bg-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search tours or destinations...\",value:searchTerm,onChange:handleSearchChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:filter,onChange:handleFilterChange,\"aria-label\":\"Filter by price\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Price Ranges\"}),/*#__PURE__*/_jsx(\"option\",{value:\"budget\",children:\"Budget (Under $300)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mid\",children:\"Mid-range ($300-$500)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"luxury\",children:\"Luxury (Over $500)\"})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:filteredTours.length>0?filteredTours.map((tour,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4 mb-4\",style:{animation:`fadeIn 0.5s ease-in forwards`,animationDelay:`${index*0.1}s`,opacity:0},children:/*#__PURE__*/_jsx(TourCard,{tour:tour})},tour.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search text-muted\",style:{fontSize:'3rem'}}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-3\",children:\"No tours found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Try adjusting your search or filter to find tours.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary mt-2\",onClick:()=>{setFilter('all');setSearchTerm('');},children:\"Reset filters\"})]})})})]});};export default Tours;","map":{"version":3,"names":["React","useState","useEffect","axios","TourCard","jsx","_jsx","jsxs","_jsxs","Tours","tours","setTours","loading","setLoading","error","setError","filter","setFilter","searchTerm","setSearchTerm","fetchTours","response","get","data","err","console","getFilteredTours","filteredTours","trim","tour","title","toLowerCase","includes","location","price","handleFilterChange","e","target","value","handleSearchChange","className","children","role","type","placeholder","onChange","length","map","index","style","animation","animationDelay","opacity","id","fontSize","onClick"],"sources":["/Users/durgaprasadcreddy/Desktop/project/tourbuddy/frontend/src/pages/Tours.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport TourCard from '../components/TourCard';\n\nconst Tours = () => {\n  const [tours, setTours] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    const fetchTours = async () => {\n      try {\n        const response = await axios.get('/api/tours');\n        setTours(response.data.data.tours);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to fetch tours. Please try again later.');\n        setLoading(false);\n        console.error('Error fetching tours:', err);\n      }\n    };\n\n    fetchTours();\n  }, []);\n\n  // Filter tours based on price range\n  const getFilteredTours = () => {\n    let filteredTours = [...tours];\n    \n    // Apply search filter\n    if (searchTerm.trim() !== '') {\n      filteredTours = filteredTours.filter(tour => \n        tour.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        tour.location.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n    \n    // Apply price filter\n    if (filter === 'budget') {\n      filteredTours = filteredTours.filter(tour => tour.price < 300);\n    } else if (filter === 'mid') {\n      filteredTours = filteredTours.filter(tour => tour.price >= 300 && tour.price <= 500);\n    } else if (filter === 'luxury') {\n      filteredTours = filteredTours.filter(tour => tour.price > 500);\n    }\n    \n    return filteredTours;\n  };\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container mt-5 text-center\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n        <p className=\"mt-3\">Loading tours...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"alert alert-danger\" role=\"alert\">\n          <i className=\"bi bi-exclamation-triangle me-2\"></i>\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  const filteredTours = getFilteredTours();\n\n  return (\n    <div className=\"fade-in\">\n      <div className=\"bg-light py-5 mb-5\">\n        <div className=\"container\">\n          <h1 className=\"display-4 fw-bold mb-4\">Our Tours</h1>\n          <p className=\"lead\">Discover unforgettable experiences and adventures around the world</p>\n          \n          <div className=\"row mt-4\">\n            <div className=\"col-md-8\">\n              <div className=\"input-group\">\n                <span className=\"input-group-text bg-white\">\n                  <i className=\"bi bi-search\"></i>\n                </span>\n                <input \n                  type=\"text\" \n                  className=\"form-control\" \n                  placeholder=\"Search tours or destinations...\" \n                  value={searchTerm}\n                  onChange={handleSearchChange}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-4\">\n              <select \n                className=\"form-select\" \n                value={filter} \n                onChange={handleFilterChange}\n                aria-label=\"Filter by price\"\n              >\n                <option value=\"all\">All Price Ranges</option>\n                <option value=\"budget\">Budget (Under $300)</option>\n                <option value=\"mid\">Mid-range ($300-$500)</option>\n                <option value=\"luxury\">Luxury (Over $500)</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"container mb-5\">\n        <div className=\"row\">\n          {filteredTours.length > 0 ? (\n            filteredTours.map((tour, index) => (\n              <div \n                className=\"col-md-6 col-lg-4 mb-4\" \n                key={tour.id}\n                style={{ \n                  animation: `fadeIn 0.5s ease-in forwards`,\n                  animationDelay: `${index * 0.1}s`,\n                  opacity: 0 \n                }}\n              >\n                <TourCard tour={tour} />\n              </div>\n            ))\n          ) : (\n            <div className=\"col-12 text-center py-5\">\n              <i className=\"bi bi-search text-muted\" style={{ fontSize: '3rem' }}></i>\n              <h3 className=\"mt-3\">No tours found</h3>\n              <p className=\"text-muted\">\n                Try adjusting your search or filter to find tours.\n              </p>\n              <button \n                className=\"btn btn-outline-primary mt-2\" \n                onClick={() => {\n                  setFilter('all');\n                  setSearchTerm('');\n                }}\n              >\n                Reset filters\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Tours; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}